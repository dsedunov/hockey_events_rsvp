{"ast":null,"code":"import _asyncToGenerator from \"/Users/daniilsedunov/Documents/GitHub/hockey_events_rsvp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { FormBuilder } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/fire/compat/auth\";\nimport * as i5 from \"@angular/material/snack-bar\";\nimport * as i6 from \"@angular/material/list\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/flex-layout/extended\";\nimport * as i11 from \"@angular/material/tabs\";\nimport * as i12 from \"@angular/material/select\";\nimport * as i13 from \"@angular/material/core\";\nimport * as i14 from \"@angular/material/icon\";\nimport * as i15 from \"../pipes/players-sort.pipe\";\nconst _c0 = (a0, a1, a2) => ({\n  \"firstElementAfterGoalie\": a0,\n  \"firstElementUndef\": a1,\n  \"firstElementBlack\": a2\n});\nconst _c1 = (a0, a1) => ({\n  \"dotWhite\": a0,\n  \"dotBlack\": a1\n});\nfunction EventsViewComponent_button_7_mat_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 19);\n    i0.ɵɵtext(1, \"save\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventsViewComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function EventsViewComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateRoster());\n    });\n    i0.ɵɵtemplate(1, EventsViewComponent_button_7_mat_icon_1_Template, 2, 0, \"mat-icon\", 6);\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"save\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.user && ctx_r2.user.admin === \"null\");\n  }\n}\nfunction EventsViewComponent_mat_icon_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 19);\n    i0.ɵɵtext(1, \"save\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventsViewComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"DC Lepers : \", ctx_r2.changedEvent.rival, \"\");\n  }\n}\nfunction EventsViewComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\u0422\\u0440\\u0435\\u043D\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\");\n  }\n}\nfunction EventsViewComponent_mat_list_30_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\", 21)(1, \"p\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(3, _c0, player_r4.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\", !player_r4.color && player_r4.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\", player_r4.color === \"black\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", player_r4.name, \" \", player_r4.surname, \"\");\n  }\n}\nfunction EventsViewComponent_mat_list_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list\");\n    i0.ɵɵtemplate(1, EventsViewComponent_mat_list_30_mat_list_item_1_Template, 3, 7, \"mat-list-item\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const player_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r4.role == \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\");\n  }\n}\nfunction EventsViewComponent_mat_list_34_mat_list_item_1_mat_select_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-select\", 25);\n    i0.ɵɵtwoWayListener(\"valueChange\", function EventsViewComponent_mat_list_34_mat_list_item_1_mat_select_3_Template_mat_select_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const player_r6 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(player_r6.color, $event) || (player_r6.color = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(1, \"mat-option\", 26);\n    i0.ɵɵtext(2, \"\\u0427\\u0435\\u0440\\u043D\\u044B\\u0439\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-option\", 27);\n    i0.ɵɵtext(4, \"\\u0411\\u0435\\u043B\\u044B\\u0439\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r6 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", player_r6.color);\n    i0.ɵɵtwoWayProperty(\"value\", player_r6.color);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c1, player_r6.color === \"white\", player_r6.color === \"black\"))(\"disabled\", ctx_r2.user && !ctx_r2.user.admin);\n  }\n}\nfunction EventsViewComponent_mat_list_34_mat_list_item_1_mat_select_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-select\", 28);\n    i0.ɵɵtwoWayListener(\"valueChange\", function EventsViewComponent_mat_list_34_mat_list_item_1_mat_select_4_Template_mat_select_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const player_r6 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(player_r6.number, $event) || (player_r6.number = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(1, \"mat-option\", 29);\n    i0.ɵɵtext(2, \"1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-option\", 30);\n    i0.ɵɵtext(4, \"2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-option\", 31);\n    i0.ɵɵtext(6, \"3\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r6 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵtwoWayProperty(\"value\", player_r6.number);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.user && !ctx_r2.user.admin);\n  }\n}\nfunction EventsViewComponent_mat_list_34_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\", 21)(1, \"p\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, EventsViewComponent_mat_list_34_mat_list_item_1_mat_select_3_Template, 5, 7, \"mat-select\", 23)(4, EventsViewComponent_mat_list_34_mat_list_item_1_mat_select_4_Template, 7, 2, \"mat-select\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const player_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(5, _c0, player_r6.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\", !player_r6.color && player_r6.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\", player_r6.color === \"black\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", player_r6.name, \" \", player_r6.surname, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r6.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r6.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\");\n  }\n}\nfunction EventsViewComponent_mat_list_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list\");\n    i0.ɵɵtemplate(1, EventsViewComponent_mat_list_34_mat_list_item_1_Template, 5, 9, \"mat-list-item\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const player_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r6.role == \"\\u0417\\u0430\\u0449\\u0438\\u0442\\u043D\\u0438\\u043A\");\n  }\n}\nfunction EventsViewComponent_mat_list_38_mat_list_item_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function EventsViewComponent_mat_list_38_mat_list_item_1_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.updateRoster());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"save\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EventsViewComponent_mat_list_38_mat_list_item_1_mat_select_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-select\", 25);\n    i0.ɵɵtwoWayListener(\"valueChange\", function EventsViewComponent_mat_list_38_mat_list_item_1_mat_select_4_Template_mat_select_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const player_r10 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(player_r10.color, $event) || (player_r10.color = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(1, \"mat-option\", 26);\n    i0.ɵɵtext(2, \"\\u0427\\u0435\\u0440\\u043D\\u044B\\u0439\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-option\", 27);\n    i0.ɵɵtext(4, \"\\u0411\\u0435\\u043B\\u044B\\u0439\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r10 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", player_r10.color);\n    i0.ɵɵtwoWayProperty(\"value\", player_r10.color);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c1, player_r10.color === \"white\", player_r10.color === \"black\"))(\"disabled\", ctx_r2.user && !ctx_r2.user.admin);\n  }\n}\nfunction EventsViewComponent_mat_list_38_mat_list_item_1_mat_select_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-select\", 28);\n    i0.ɵɵtwoWayListener(\"valueChange\", function EventsViewComponent_mat_list_38_mat_list_item_1_mat_select_5_Template_mat_select_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const player_r10 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(player_r10.number, $event) || (player_r10.number = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(1, \"mat-option\", 29);\n    i0.ɵɵtext(2, \"1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-option\", 30);\n    i0.ɵɵtext(4, \"2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-option\", 31);\n    i0.ɵɵtext(6, \"3\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r10 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵtwoWayProperty(\"value\", player_r10.number);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.user && !ctx_r2.user.admin);\n  }\n}\nfunction EventsViewComponent_mat_list_38_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\", 21);\n    i0.ɵɵtemplate(1, EventsViewComponent_mat_list_38_mat_list_item_1_button_1_Template, 3, 0, \"button\", 5);\n    i0.ɵɵelementStart(2, \"p\", 22);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, EventsViewComponent_mat_list_38_mat_list_item_1_mat_select_4_Template, 5, 7, \"mat-select\", 23)(5, EventsViewComponent_mat_list_38_mat_list_item_1_mat_select_5_Template, 7, 2, \"mat-select\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const player_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(6, _c0, player_r10.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\", !player_r10.color && player_r10.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\", player_r10.color === \"black\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.user && ctx_r2.user.admin && player_r10.number == \"any\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", player_r10.name, \" \", player_r10.surname, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r10.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r10.role !== \"\\u0412\\u0440\\u0430\\u0442\\u0430\\u0440\\u044C\");\n  }\n}\nfunction EventsViewComponent_mat_list_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list\");\n    i0.ɵɵtemplate(1, EventsViewComponent_mat_list_38_mat_list_item_1_Template, 6, 10, \"mat-list-item\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const player_r10 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", player_r10.role == \"\\u041D\\u0430\\u043F\\u0430\\u0434\\u0430\\u044E\\u0449\\u0438\\u0439\");\n  }\n}\nfunction EventsViewComponent_mat_tab_40_mat_list_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"p\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", player_r12.name, \" \", player_r12.surname, \" \");\n  }\n}\nfunction EventsViewComponent_mat_tab_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-tab\", 15)(1, \"mat-list\");\n    i0.ɵɵtemplate(2, EventsViewComponent_mat_tab_40_mat_list_item_2_Template, 3, 2, \"mat-list-item\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate1(\"label\", \"\\u041D\\u0435 \\u043F\\u0440\\u0438\\u0434\\u0443\\u0442 (\", ctx_r2.changedEvent.players.reject && ctx_r2.changedEvent.players.reject.length, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.changedEvent.players.reject);\n  }\n}\nfunction EventsViewComponent_mat_tab_41_mat_list_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"p\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", player_r13.name, \" \", player_r13.surname, \" \");\n  }\n}\nfunction EventsViewComponent_mat_tab_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-tab\", 15)(1, \"mat-list\");\n    i0.ɵɵtemplate(2, EventsViewComponent_mat_tab_41_mat_list_item_2_Template, 3, 2, \"mat-list-item\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate1(\"label\", \"\\u041D\\u0435 \\u0437\\u043D\\u0430\\u044E\\u0442 (\", ctx_r2.noVotedUsers && ctx_r2.noVotedUsers.length, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.noVotedUsers);\n  }\n}\nexport let EventsViewComponent = /*#__PURE__*/(() => {\n  class EventsViewComponent {\n    constructor(afs, activatedRoute, router, eventFormBuilder, firebaseAuth, snackBar) {\n      this.afs = afs;\n      this.activatedRoute = activatedRoute;\n      this.router = router;\n      this.eventFormBuilder = eventFormBuilder;\n      this.firebaseAuth = firebaseAuth;\n      this.snackBar = snackBar;\n      this.user = null;\n      this.colorSelected = '';\n      this.colors = [{\n        value: 'Черный',\n        viewValue: 'Черный'\n      }, {\n        value: 'Белый',\n        viewValue: 'Белый'\n      }];\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const usersRef = _this.afs.collection('users').doc((yield _this.firebaseAuth.currentUser).email.toLowerCase()).ref;\n        usersRef.get().then( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (doc) {\n            if (doc.exists) {\n              _this.user = doc.data();\n              _this.user.uid = (yield _this.firebaseAuth.currentUser).uid;\n              const userId = _this.user.uid;\n            } else {\n              console.log('No such document!');\n            }\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }()).catch(err => {\n          console.log('Error getting document', err);\n        });\n        _this.activatedRoute.queryParams.subscribe(params => {\n          _this.changedEvent = JSON.parse(params.param);\n          console.log(_this.changedEvent);\n        });\n        _this.whiteListCollection = _this.afs.collection('list');\n        _this.whiteListCollection.snapshotChanges().subscribe(([usersWhiteList]) => {\n          const whiteListArr = Object.keys(usersWhiteList.payload.doc.data());\n          _this.usersCollection = _this.afs.collection('users', ref => ref.limit(200));\n          _this.usersCollection.snapshotChanges().subscribe(usersRef => {\n            const users = usersRef.map(userRef => {\n              return userRef.payload.doc.data();\n            });\n            _this.changedEvent.players.accept = _this.changedEvent.players.accept.sort(({\n              role: roleA\n            }, {\n              role: roleB\n            }) => {\n              return roleA !== 'Вратарь' ? 1 : -1;\n            });\n            const accptedUID = _this.changedEvent.players.accept && _this.changedEvent.players.accept.map(player => player.uid);\n            const rejectedUID = _this.changedEvent.players.reject && _this.changedEvent.players.reject.map(player => player.uid);\n            // const league = this.changedEvent.players && this.user.league.map(player => player.league);\n            _this.noVotedUsers = users.filter(user => {\n              return whiteListArr.indexOf(user.uid) !== -1 && accptedUID.indexOf(user.uid) === -1 && rejectedUID.indexOf(user.uid) === -1;\n            })\n            // .filter(user => {\n            //   return (whiteListArr.indexOf(user.league) !== -1 && league.indexOf(user.league)); })\n            .sort(({\n              role: roleA\n            }, {\n              role: roleB\n            }) => {\n              return roleA !== 'Вратарь' ? 1 : -1;\n            });\n          });\n        });\n      })();\n    }\n    backToHome() {\n      this.router.navigateByUrl('/home');\n    }\n    addGuetst() {\n      this.changedEvent = {\n        ...this.changedEvent,\n        gameDay: this.changedEvent.gameDayISO,\n        players: [{\n          name: 'newBoi',\n          status: 'accept'\n        }, ...this.changedEvent.players.accept, ...this.changedEvent.players.reject]\n      };\n      delete this.changedEvent.gameDayISO;\n      this.afs.collection('events').doc(this.changedEvent.id).set(this.changedEvent).then(() => {\n        this.snackBar.open('Гость успешно добавлен', 'ok', {\n          duration: 10000\n        });\n        this.router.navigateByUrl('/home');\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    updateRoster() {\n      this.changedEvent = {\n        ...this.changedEvent,\n        gameDay: this.changedEvent.gameDayISO,\n        players: [...this.changedEvent.players.accept, ...this.changedEvent.players.reject]\n      };\n      delete this.changedEvent.gameDayISO;\n      this.afs.collection('events').doc(this.changedEvent.id).set(this.changedEvent).then(() => {\n        this.snackBar.open('Данные успешно изменены', 'ok', {\n          duration: 10000\n        });\n        this.router.navigateByUrl('/home');\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    static #_ = this.ɵfac = function EventsViewComponent_Factory(t) {\n      return new (t || EventsViewComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AngularFireAuth), i0.ɵɵdirectiveInject(i5.MatSnackBar));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EventsViewComponent,\n      selectors: [[\"app-events-view\"]],\n      decls: 42,\n      vars: 19,\n      consts: [[\"elseBlock\", \"\"], [1, \"mainDiv\"], [1, \"headerView\"], [\"mat-icon-button\", \"\", 1, \"icons\", 3, \"click\"], [1, \"star\"], [\"class\", \"icons\", \"mat-icon-button\", \"\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"invIcon\", 4, \"ngIf\"], [1, \"viewCard\"], [1, \"card\"], [1, \"dttm\"], [1, \"calendar\"], [\"class\", \"gameType\", 4, \"ngIf\", \"ngIfElse\"], [1, \"gameType\"], [1, \"where\"], [1, \"wIcon\"], [3, \"label\"], [1, \"roleHeader\"], [4, \"ngFor\", \"ngForOf\"], [3, \"label\", 4, \"ngIf\"], [1, \"invIcon\"], [3, \"ngClass\", 4, \"ngIf\"], [3, \"ngClass\"], [\"matLine\", \"\"], [\"class\", \"color\", 3, \"value\", \"value\", \"ngClass\", \"disabled\", \"valueChange\", 4, \"ngIf\"], [\"class\", \"number\", \"value\", \"player.number\", 3, \"value\", \"disabled\", \"valueChange\", 4, \"ngIf\"], [1, \"color\", 3, \"valueChange\", \"value\", \"value\", \"ngClass\", \"disabled\"], [\"value\", \"black\"], [\"value\", \"white\"], [\"value\", \"player.number\", 1, \"number\", 3, \"valueChange\", \"value\", \"disabled\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"]],\n      template: function EventsViewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function EventsViewComponent_Template_button_click_2_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.backToHome());\n          });\n          i0.ɵɵelementStart(3, \"mat-icon\");\n          i0.ɵɵtext(4, \"keyboard_backspace\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"mat-icon\", 4);\n          i0.ɵɵtext(6, \"star\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, EventsViewComponent_button_7_Template, 4, 1, \"button\", 5)(8, EventsViewComponent_mat_icon_8_Template, 2, 0, \"mat-icon\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"mat-card\", 7)(10, \"mat-card-content\", 8)(11, \"div\", 9)(12, \"div\")(13, \"p\")(14, \"mat-icon\", 10);\n          i0.ɵɵtext(15, \"calendar_today\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(17, EventsViewComponent_div_17_Template, 2, 1, \"div\", 11)(18, EventsViewComponent_ng_template_18_Template, 1, 0, \"ng-template\", 12, 0, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementStart(20, \"div\", 13)(21, \"p\")(22, \"mat-icon\", 14);\n          i0.ɵɵtext(23, \"location_on\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(24);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(25, \"mat-card-content\")(26, \"mat-tab-group\")(27, \"mat-tab\", 15)(28, \"p\", 16);\n          i0.ɵɵtext(29, \" \\u0412\\u0420\\u0410\\u0422\\u0410\\u0420\\u0418 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(30, EventsViewComponent_mat_list_30_Template, 2, 1, \"mat-list\", 17);\n          i0.ɵɵpipe(31, \"sort\");\n          i0.ɵɵelementStart(32, \"p\", 16);\n          i0.ɵɵtext(33, \" \\u0417\\u0410\\u0429\\u0418\\u0422\\u041D\\u0418\\u041A\\u0418 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(34, EventsViewComponent_mat_list_34_Template, 2, 1, \"mat-list\", 17);\n          i0.ɵɵpipe(35, \"sort\");\n          i0.ɵɵelementStart(36, \"p\", 16);\n          i0.ɵɵtext(37, \" \\u041D\\u0410\\u041F\\u0410\\u0414\\u0410\\u042E\\u0429\\u0418\\u0415 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(38, EventsViewComponent_mat_list_38_Template, 2, 1, \"mat-list\", 17);\n          i0.ɵɵpipe(39, \"sort\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(40, EventsViewComponent_mat_tab_40_Template, 3, 3, \"mat-tab\", 18)(41, EventsViewComponent_mat_tab_41_Template, 3, 3, \"mat-tab\", 18);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          const elseBlock_r14 = i0.ɵɵreference(19);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.user && ctx.user.admin);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.user && !ctx.user.admin);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\" \", ctx.changedEvent.gameDay, \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.changedEvent.rival)(\"ngIfElse\", elseBlock_r14);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\" \", ctx.changedEvent.where, \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵpropertyInterpolate1(\"label\", \"\\u041F\\u0440\\u0438\\u0434\\u0443\\u0442 (\", ctx.changedEvent.players.accept.length, \")\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(31, 13, ctx.changedEvent.players.accept));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(35, 15, ctx.changedEvent.players.accept));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(39, 17, ctx.changedEvent.players.accept));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.user && ctx.user.admin);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.user && ctx.user.admin);\n        }\n      },\n      dependencies: [i6.MatList, i6.MatListItem, i7.NgClass, i7.NgForOf, i7.NgIf, i8.MatCard, i8.MatCardContent, i9.MatIconButton, i10.DefaultClassDirective, i11.MatTab, i11.MatTabGroup, i12.MatSelect, i13.MatOption, i14.MatIcon, i15.PlayersSortPipe],\n      styles: [\".color[_ngcontent-%COMP%]{width:4rem}.number[_ngcontent-%COMP%]{width:4rem;margin-left:1rem}.gameType[_ngcontent-%COMP%]{font-size:18px}.disabled-element[_ngcontent-%COMP%]{opacity:.3}.headerView[_ngcontent-%COMP%]{background:#2f2f2f;display:flex;align-content:center;justify-content:space-between;margin:10px}.headerView[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#dc8ea4;font-size:28px;padding:6px}.headerView[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{color:#fff;background-color:none!important}.headerView[_ngcontent-%COMP%]   .invIcon[_ngcontent-%COMP%]{color:transparent;padding:7px}.mainDiv[_ngcontent-%COMP%]{height:auto;background:#2f2f2f;position:relative}.viewCard[_ngcontent-%COMP%]{width:85%;min-width:325px;margin:16px auto;padding-top:0}.viewCard[_ngcontent-%COMP%]   .dttm[_ngcontent-%COMP%]{display:flex;height:50px;align-items:center;justify-content:space-between}.viewCard[_ngcontent-%COMP%]   .dttm[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{color:#f1dba9;font-size:11px;height:1px;width:11px}.where[_ngcontent-%COMP%]{display:flex;align-content:center;margin-top:1rem;color:#afadad}.where[_ngcontent-%COMP%]   .wIcon[_ngcontent-%COMP%]{color:#f1dba9;font-size:11px;height:1px;width:11px}.dotWhite[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50px;background-color:#fff!important;margin-right:1.2rem}.dotBlack[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50px;background-color:#000!important;border:1px solid white;margin-right:1.2rem}  .mat-tab-labels{display:flex;justify-content:space-around;background-color:#424242!important}  .mat-tab-label{padding:2px!important;justify-content:left!important;font-size:14px;font-weight:100;width:100%;padding-bottom:1rem}.roleHeader[_ngcontent-%COMP%]{margin-top:2rem;font-size:13px;color:#b2b5bf}  .mat-list-base{padding:0!important}  .mat-card-content{margin:0!important}  .mat-list-item .mat-list-item-content{margin-left:-1rem;font-size:14px;border-bottom:1px #2F2F2F solid;border-radius:1px}  .mat-select-arrow{margin-left:1.37rem!important}\"]\n    });\n  }\n  return EventsViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}