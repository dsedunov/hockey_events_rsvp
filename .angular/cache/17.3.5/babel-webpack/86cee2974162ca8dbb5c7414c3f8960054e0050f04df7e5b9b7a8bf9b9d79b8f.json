{"ast":null,"code":"var _a, _b;\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { FormBuilder } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\nlet EventFormComponent = class EventFormComponent {\n  constructor(afs, router, eventFormBuilder, firebaseAuth, snackBar) {\n    this.afs = afs;\n    this.router = router;\n    this.eventFormBuilder = eventFormBuilder;\n    this.firebaseAuth = firebaseAuth;\n    this.snackBar = snackBar;\n    this.gameTypeSelected = '';\n    this.types = [{\n      value: 'Тренировка',\n      viewValue: 'Тренировка'\n    }, {\n      value: 'Игра',\n      viewValue: 'Игра'\n    }];\n    this.vTypes = ['Для всех', 'Турнир'];\n    this.eventForm = this.eventFormBuilder.group({\n      where: [''],\n      gameDay: [''],\n      vType: [''],\n      gameType: [''],\n      rival: ['']\n    });\n  }\n  ngOnInit() {}\n  openSnackBar(message) {\n    this.snackBar.open(message, 'ok', {\n      duration: 10000\n    });\n  }\n  backToHome() {\n    this.router.navigateByUrl('/home');\n  }\n  createEvent() {\n    if (this.eventForm.status === 'VALID') {\n      console.log(this.eventForm.value);\n      const eventInfo = {\n        ...this.eventForm.value\n      };\n      eventInfo.gameDay = +new Date(eventInfo.gameDay);\n      return this.afs.collection('events').doc(this.eventForm.value.gameDay).set(eventInfo).then(() => {\n        this.snackBar.open('Молодец', 'ok', {\n          duration: 10000\n        });\n        this.router.navigate(['/home']);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};\nEventFormComponent = __decorate([Component({\n  selector: 'app-event',\n  templateUrl: './event-form.component.html',\n  styleUrls: ['./event-form.component.scss']\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof AngularFirestore !== \"undefined\" && AngularFirestore) === \"function\" ? _a : Object, Router, FormBuilder, typeof (_b = typeof AngularFireAuth !== \"undefined\" && AngularFireAuth) === \"function\" ? _b : Object, MatSnackBar])], EventFormComponent);\nexport { EventFormComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}